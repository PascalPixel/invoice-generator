<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>HTML Invoice Generator</title>
<link href="http://netdna.bootstrapcdn.com/bootstrap/3.0.3/css/bootstrap.min.css" rel="stylesheet">
<style>
/* Remove list styling on invoice */
#invoice .row {
padding: 20px 0 10px;
}
#invoice ul {
list-style-type: none;
margin: 0;
padding: 0;
}
#invoice h3 {
margin: 0 0 10px;
}
/* Style rows of invoice */
#invoice li {
line-height: 32px;
border-bottom: solid 1px #dbdbdb;
}
#invoice #items li {
border-bottom-style: dashed;
}
/* Style input boxes for numbers */
#invoice .itemtotal {
float: right;
text-align: right;
}
/* Input margins */
#invoice input {
margin: 0px 0 10px 0;
}
/* Type boxes */
#invoice .input-type {
position: relative;
}
#invoice .input-type .currency,
#invoice .input-type .percentage {
display: none;
}
#invoice .input-type.money input, 
#invoice .input-type.timest input {
padding-left: 20px;
}
#invoice .input-type.money .currency,
#invoice .input-type .times {
position:absolute;
display: inherit;
color:#BBB;
left:10px;
top:1px;
}
#invoice .timest {
display: none;
}
#invoice .input-type.tax input {
padding-right: 20px;
}
#invoice .input-type.tax .percentage {
position:absolute;
display: inherit;
color:#BBB;
right:10px;
top:1px;
}
#invoice .caret {
display: none;
}
#invoice-number {
text-align: right;
}
#invoice #item-total {
text-align: right;
}
</style>
<link href="theme.css" rel="stylesheet">
</head>
<body>
<div class="container">
  <form id="invoice" name="invoice">
    <div class="row">
      <div class="col-sm-8">
        <div class="box">
          <ul>
            
            <li>
              <div class="row">
                <div class="col-xs-8 col-sm-9 col-lg-10">
                  <h3>HTML Invoice Generator</h3>
                </div>
                <div class="col-xs-4 col-sm-3 col-lg-2">
                  <input class="form-control" id="invoice-number" onclick="this.select()" type="text" value="Invoice #">
                </div>
              </div>
            </li>
            
            <ul id="items"></ul>
            
            <li>
              <div class="btn btn-primary btn-sm btn-block plus">Add item</div>
            </li>
            
            <li class="tax-bar" style="display:none">
              <span id="subtotal-print">Subtotal</span>
              <span class="subtotal pull-right">0</span>
            </li>
            
            <li class="tax-bar" style="display:none">
              <span id="tax-print">Tax 0%</span>
              <span class="taxed pull-right">0</span>
              <span class="currency pull-right"></span>
            </li>
            
            <li>
              <div class="row">
                <div class="col-xs-6">
                  <h3>Total cost</h3>
                </div>
                <div class="col-xs-6">
                  <h3></span><span class="total pull-right">0</span><span class="currency pull-right"></h3>
                </div>
              </div>
            </li>
            
          </ul>
          <div class="row">
            <div class="col-xs-4">
              <input class="btn btn-block" type="submit" value="Reset">
            </div>
            <div class="col-xs-8">
              <input class="btn btn-primary btn-block" type="submit" value="Submit">
            </div>
          </div>
        </div>
      </div>
      <div class="col-sm-4">
        <ul>
        
          <h4>Settings</h4>
          
          <li>
            <div class="row">
              <div class="col-sm-6">
                Currency
              </div>
              <div class="col-sm-6">
                <select id="currency" class="type">
                  <option value="USD">
                    USD $
                  </option>
                  <option value="CNY">
                    CNY &yen;
                  </option>
                  <option value="EUR">
                    EUR &euro;
                  </option>
                  <option value="GBP">
                    GBP &pound;
                  </option>
                  <option value="JPY">
                    JPY &yen;
                  </option>
                </select>
                <span class="caret"></span>
              </div>
            </div>
          </li>
          
          <li>
            <div class="row">
              <div class="col-sm-6">
                Hourly rate
              </div>
              <div class="col-sm-6">
                <div class="input-type money">
                  <span class="currency"></span>
                  <input class="form-control" id="rate-amount" onclick="this.select()" type="text" value="50">
                </div>
              </div>
            </div>
          </li>
          
          <li>
            <div class="row">
              <div class="col-sm-6">
                Cost per mile
              </div>
              <div class="col-sm-6">
                <div class="input-type money">
                  <span class="currency"></span>
                  <input class="form-control" id="mile-amount" onclick="this.select()" type="text" value="12">
                </div>
              </div>
            </div>
          </li>
          
          <li id="tax-input">
            <div class="row">
              <div class="col-sm-6">
                Tax
              </div>
              <div class="col-sm-6">
                <div class="input-type tax">
                  <input class="form-control" id="tax-amount" onclick="this.select()" type="text" value="0">
                  <span class="percentage">%</span>
                </div>
              </div>
            </div>
          </li>
          
        </ul>
      </div>
    </div>
  </form>
</div>
<script src="http://code.jquery.com/jquery-1.10.2.min.js"></script>
<script src="http://netdna.bootstrapcdn.com/bootstrap/3.0.3/js/bootstrap.min.js"></script>
<script>
$(document).ready(function() {
    function appendItem() {
        $("#items").append($item), setCurrency();
    }
    function setCurrency() {
        var currencySign, currency = $("#currency").val();
        currencySign = "USD" == currency ? "$" : "CNY" == currency ? "&yen;" : "EUR" == currency ? "&euro;" : "GBP" == currency ? "&pound;" : "&yen;", 
        $(".currency").html(currencySign);
    }
    function settings() {
        rate = +$("#rate-amount").val(), mile = +$("#mile-amount").val(), tax = +$("#tax-amount").val(), 
        $("#tax-print").html("Tax " + tax + "%");
    }
    function twoDecimals(numberToRound) {
        return Math.round(100 * numberToRound) / 100;
    }
    function calcHours() {
        $("#invoice").find(".hours").each(function() {
            $(this).closest(".row").find(".itemtotal").html(twoDecimals($(this).val() * rate));
        });
    }
    function calcFixed() {
        $("#invoice").find(".fixed").each(function() {
            $(this).closest(".row").find(".itemtotal").html(twoDecimals($(this).val()));
        });
    }
    function calcQuantity() {
        $("#invoice").find(".quantity").each(function() {
            var amount = $(this).closest(".row").find(".item-input-quantity").val(), price = $(this).val();
            $(this).closest(".row").find(".itemtotal").html(twoDecimals(amount * price));
        });
    }
    function calcMileage() {
        $("#invoice").find(".mileage").each(function() {
            $(this).closest(".row").find(".itemtotal").html(twoDecimals($(this).val() * mile));
        });
    }
    function calcTotal() {
        setCurrency(), settings(), calcHours(), calcFixed(), calcQuantity(), calcMileage();
        var subtotal = 0;
        $("#invoice").find(".itemtotal").each(function() {
            var value = parseInt($(this).text());
            isNaN(value) || (subtotal += value);
        }), $(".subtotal").html(twoDecimals(subtotal));
        var taxed = subtotal / 100 * tax;
        $(".taxed").html(twoDecimals(taxed));
        var total = twoDecimals(subtotal + taxed);
        $(".total").html(total);
    }
    var $item = '<li class="item" style="display:none;"><div class="row"><div class="col-lg-4"><input class="form-control" onclick="this.select()" type="text" value="Item description"></div><div class="col-xs-12 col-sm-4 col-lg-2"><select class="type"><option value="0"> Hours </option><option value="1"> Fixed </option><option value="2"> Quantity </option><option value="3"> Mileage </option></select><div class="caret"></div></div><div id="item-input" class="col-xs-4 col-sm-3 col-lg-2"><div class="input-type"><span class="currency"></span><input class="item-input-actual form-control hours" onclick="this.select()" type="text" value="0"><span class="percentage">%</span></div></div><div id="item-times" class="col-xs-4 col-sm-2 col-lg-2"><div class="input-type timest"><span class="times">x</span><input class="item-input-quantity form-control" onclick="this.select()" type="text" value="0"></div></div><div id="item-total" class="col-xs-4 col-sm-3 col-lg-2"><h4><span class="currency"></span><span class="itemtotal">0</span></h4></div></div></li>';
    $(".plus").click(function() {
        appendItem(), $("#items").find(".item:last").slideDown("fast");
    }), appendItem(), $("#items").find(".item:last").show(), $("#currency").on("change", function() {
        setCurrency();
    }), $("#invoice").delegate(".item .type", "change", function() {
        var itemtotal = $(this).closest(".row").find(".item-input-actual"), inputType = $(this).closest(".row").find(".input-type"), inputQuantity = $(this).closest(".row").find(".timest");
        0 == $(this).val() ? (itemtotal.removeClass("fixed quantity mileage").addClass("hours"), 
        inputQuantity.hide(), inputType.removeClass("money")) : 1 == $(this).val() ? (itemtotal.removeClass("hours quantity mileage").addClass("fixed"), 
        inputQuantity.hide(), inputType.addClass("money")) : 2 == $(this).val() ? (itemtotal.removeClass("fixed hours mileage").addClass("quantity"), 
        inputQuantity.show(), inputType.addClass("money")) : (itemtotal.removeClass("fixed quantity hours").addClass("mileage"), 
        inputQuantity.hide(), inputType.removeClass("money")), calcTotal();
    }), $("#tax-amount").on("keyup", function() {
        $(".tax-bar").slideDown();
    });
    var rate, mile, tax;
    calcTotal(), $("#invoice").on("keyup", "input", function() {
        calcTotal();
    });
});
</script>
</body>
</html>